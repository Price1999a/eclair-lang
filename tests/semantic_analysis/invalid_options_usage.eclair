// RUN: mkdir -p %t && sed s@TEST_DIR@%t@g %s > %t/input.test
// RUN: split-file %t/input.test %t

//--- program1.eclair
// RUN: %eclair compile %t/program1.eclair 2> %t/actual1.out
// RUN: diff %t/expected1.out %t/actual1.out

@options unknown(input, output).

//--- expected1.out
[error]: Found options for an unknown relation
     ╭──▶ TEST_DIR/program1.eclair@4:1-4:33
     │
   4 │ @options unknown(input, output).
     • ┬───────────────────────────────
     • ╰╸ Cannot apply options to unknown relation 'unknown'.
     •
     │ Hint: 1) Declare the relation 'unknown'.
     │ Hint: 2) Or remove this redundant options declaration.
─────╯
//--- program2.eclair
// RUN: %eclair compile %t/program2.eclair 2> %t/actual2.out
// RUN: diff %t/expected2.out %t/actual2.out
@def fact(string).
@options fact(input, output).
@options fact(input, output).

//--- expected2.out
[error]: Found duplicate options for a relation
     ╭──▶ TEST_DIR/program2.eclair@5:1-5:30
     │
   4 │ @options fact(input, output).
     • ┬────────────────────────────
     • ╰╸ First occurrence of '@options'.
   5 │ @options fact(input, output).
     • ┬────────────────────────────
     • ╰╸ Second occurrence of '@options'.
     •
     │ Hint: Only one '@options' declaration is allowed per relation. Remove all redundant declarations.
─────╯
